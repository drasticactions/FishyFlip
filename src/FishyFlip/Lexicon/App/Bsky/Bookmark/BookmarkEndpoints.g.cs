// <auto-generated />
// This file was generated by FFSourceGen.
// Do not modify this file.

#nullable enable annotations
#nullable disable warnings

namespace FishyFlip.Lexicon.App.Bsky.Bookmark
{

    /// <summary>
    /// app.bsky.bookmark Endpoint Group.
    /// </summary>
    public static class BookmarkEndpoints
    {

       public const string GroupNamespace = "app.bsky.bookmark";

       public const string CreateBookmark = "/xrpc/app.bsky.bookmark.createBookmark";

       public const string DeleteBookmark = "/xrpc/app.bsky.bookmark.deleteBookmark";

       public const string GetBookmarks = "/xrpc/app.bsky.bookmark.getBookmarks";


        /// <summary>
        /// Creates a private bookmark for the specified record. Currently, only `app.bsky.feed.post` records are supported. Requires authentication.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.UnsupportedCollectionError"/> The URI to be bookmarked is for an unsupported collection. <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri"></param>
        /// <param name="cid"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="Success?"/></returns>
        public static Task<Result<Success?>> CreateBookmarkAsync (this FishyFlip.ATProtocol atp, FishyFlip.Models.ATUri uri, string cid, CancellationToken cancellationToken = default)
        {
            var endpointUrl = CreateBookmark.ToString();
            var headers = new Dictionary<string, string>();
            var inputItem = new CreateBookmarkInput();
            inputItem.Uri = uri;
            inputItem.Cid = cid;
            return atp.Post<CreateBookmarkInput, Success?>(endpointUrl, atp.Options.SourceGenerationContext.AppBskyBookmarkCreateBookmarkInput!, atp.Options.SourceGenerationContext.Success!, inputItem, cancellationToken, headers);
        }


        /// <summary>
        /// Deletes a private bookmark for the specified record. Currently, only `app.bsky.feed.post` records are supported. Requires authentication.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.UnsupportedCollectionError"/> The URI to be bookmarked is for an unsupported collection. <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="Success?"/></returns>
        public static Task<Result<Success?>> DeleteBookmarkAsync (this FishyFlip.ATProtocol atp, FishyFlip.Models.ATUri uri, CancellationToken cancellationToken = default)
        {
            var endpointUrl = DeleteBookmark.ToString();
            var headers = new Dictionary<string, string>();
            var inputItem = new DeleteBookmarkInput();
            inputItem.Uri = uri;
            return atp.Post<DeleteBookmarkInput, Success?>(endpointUrl, atp.Options.SourceGenerationContext.AppBskyBookmarkDeleteBookmarkInput!, atp.Options.SourceGenerationContext.Success!, inputItem, cancellationToken, headers);
        }


        /// <summary>
        /// Gets views of records bookmarked by the authenticated user. Requires authentication.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Bookmark.GetBookmarksOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Bookmark.GetBookmarksOutput?>> GetBookmarksAsync (this FishyFlip.ATProtocol atp, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetBookmarks.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, atp.Options.LabelDefinitionsHeader);
            endpointUrl += string.Join("&", queryStrings);
            return atp.Get<FishyFlip.Lexicon.App.Bsky.Bookmark.GetBookmarksOutput>(endpointUrl, atp.Options.SourceGenerationContext.AppBskyBookmarkGetBookmarksOutput!, cancellationToken, headers);
        }

    }
}


// <auto-generated />
// This file was generated by FFSourceGen.
// Do not modify this file.

#nullable enable annotations
#nullable disable warnings

namespace FishyFlip.Lexicon.App.Bsky.Feed
{

    /// <summary>
    /// app.bsky.feed Endpoint Group.
    /// </summary>
    public static class FeedEndpoints
    {

       public const string GroupNamespace = "app.bsky.feed";

       public const string DescribeFeedGenerator = "/xrpc/app.bsky.feed.describeFeedGenerator";

       public const string GetActorFeeds = "/xrpc/app.bsky.feed.getActorFeeds";

       public const string GetActorLikes = "/xrpc/app.bsky.feed.getActorLikes";

       public const string GetAuthorFeed = "/xrpc/app.bsky.feed.getAuthorFeed";

       public const string GetFeed = "/xrpc/app.bsky.feed.getFeed";

       public const string GetFeedGenerator = "/xrpc/app.bsky.feed.getFeedGenerator";

       public const string GetFeedGenerators = "/xrpc/app.bsky.feed.getFeedGenerators";

       public const string GetFeedSkeleton = "/xrpc/app.bsky.feed.getFeedSkeleton";

       public const string GetLikes = "/xrpc/app.bsky.feed.getLikes";

       public const string GetListFeed = "/xrpc/app.bsky.feed.getListFeed";

       public const string GetPosts = "/xrpc/app.bsky.feed.getPosts";

       public const string GetPostThread = "/xrpc/app.bsky.feed.getPostThread";

       public const string GetQuotes = "/xrpc/app.bsky.feed.getQuotes";

       public const string GetRepostedBy = "/xrpc/app.bsky.feed.getRepostedBy";

       public const string GetSuggestedFeeds = "/xrpc/app.bsky.feed.getSuggestedFeeds";

       public const string GetTimeline = "/xrpc/app.bsky.feed.getTimeline";

       public const string SearchPosts = "/xrpc/app.bsky.feed.searchPosts";

       public const string SendInteractions = "/xrpc/app.bsky.feed.sendInteractions";


        /// <summary>
        /// Get information about a feed generator, including policies and offered feed URIs. Does not require auth; implemented by Feed Generator services (not App View).
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.DescribeFeedGeneratorOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.DescribeFeedGeneratorOutput?>> DescribeFeedGeneratorAsync (this FishyFlip.IXrpcClient atp, CancellationToken cancellationToken = default)
        {
            var endpointUrl = DescribeFeedGenerator.ToString();
            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.DescribeFeedGeneratorOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedDescribeFeedGeneratorOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a list of feeds (feed generator records) created by the actor (in the actor's repo).
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="actor"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetActorFeedsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetActorFeedsOutput?>> GetActorFeedsAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATIdentifier actor, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetActorFeeds.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("actor=" + actor);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetActorFeedsOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetActorFeedsOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a list of posts liked by an actor. Requires auth, actor must be the requesting account.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.BlockedActorError"/>  <br/>
        /// <see cref="FishyFlip.Lexicon.BlockedByActorError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="actor"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetActorLikesOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetActorLikesOutput?>> GetActorLikesAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATIdentifier actor, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetActorLikes.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("actor=" + actor);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetActorLikesOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetActorLikesOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a view of an actor's 'author feed' (post and reposts by the author). Does not require auth.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.BlockedActorError"/>  <br/>
        /// <see cref="FishyFlip.Lexicon.BlockedByActorError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="actor"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="filter">Combinations of post/repost types to include in response.</param>
        /// <param name="includePins"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetAuthorFeedOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetAuthorFeedOutput?>> GetAuthorFeedAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATIdentifier actor, int? limit = 50, string? cursor = default, string? filter = default, bool? includePins = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetAuthorFeed.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("actor=" + actor);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            if (filter != null)
            {
                queryStrings.Add("filter=" + filter);
            }

            if (includePins != null)
            {
                queryStrings.Add("includePins=" + (includePins.Value ? "true" : "false"));
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetAuthorFeedOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetAuthorFeedOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a hydrated feed from an actor's selected feed generator. Implemented by App View.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.UnknownFeedError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="feed"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetFeedOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedOutput?>> GetFeedAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri feed, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetFeed.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("feed=" + feed);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetFeedOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get information about a feed generator. Implemented by AppView.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="feed">AT-URI of the feed generator record.</param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorOutput?>> GetFeedGeneratorAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri feed, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetFeedGenerator.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("feed=" + feed);

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetFeedGeneratorOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get information about a list of feed generators.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="feeds"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorsOutput?>> GetFeedGeneratorsAsync (this FishyFlip.IXrpcClient atp, List<FishyFlip.Models.ATUri> feeds, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetFeedGenerators.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add(string.Join("&", feeds.Select(n => "feeds=" + n)));

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedGeneratorsOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetFeedGeneratorsOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a skeleton of a feed provided by a feed generator. Auth is optional, depending on provider requirements, and provides the DID of the requester. Implemented by Feed Generator Service.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.UnknownFeedError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="feed">Reference to feed generator record describing the specific feed being requested.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetFeedSkeletonOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedSkeletonOutput?>> GetFeedSkeletonAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri feed, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetFeedSkeleton.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("feed=" + feed);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetFeedSkeletonOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetFeedSkeletonOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get like records which reference a subject (by AT-URI and CID).
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri">AT-URI of the subject (eg, a post record).</param>
        /// <param name="cid">CID of the subject record (aka, specific version of record), to filter likes.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetLikesOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetLikesOutput?>> GetLikesAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri uri, string? cid = default, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetLikes.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("uri=" + uri);

            if (cid != null)
            {
                queryStrings.Add("cid=" + cid);
            }

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetLikesOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetLikesOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a feed of recent posts from a list (posts and reposts from any actors on the list). Does not require auth.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.UnknownListError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="list">Reference (AT-URI) to the list record.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetListFeedOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetListFeedOutput?>> GetListFeedAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri list, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetListFeed.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("list=" + list);

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetListFeedOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetListFeedOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Gets post views for a specified list of posts (by AT-URI). This is sometimes referred to as 'hydrating' a 'feed skeleton'.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uris">List of post AT-URIs to return hydrated views for.</param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetPostsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetPostsOutput?>> GetPostsAsync (this FishyFlip.IXrpcClient atp, List<FishyFlip.Models.ATUri> uris, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetPosts.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add(string.Join("&", uris.Select(n => "uris=" + n)));

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetPostsOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetPostsOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get posts in a thread. Does not require auth, but additional metadata and filtering will be applied for authed requests.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.NotFoundError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri">Reference (AT-URI) to post record.</param>
        /// <param name="depth">How many levels of reply depth should be included in response.</param>
        /// <param name="parentHeight">How many levels of parent (and grandparent, etc) post to include.</param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetPostThreadOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetPostThreadOutput?>> GetPostThreadAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri uri, int? depth = 6, int? parentHeight = 80, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetPostThread.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("uri=" + uri);

            if (depth != null)
            {
                queryStrings.Add("depth=" + depth);
            }

            if (parentHeight != null)
            {
                queryStrings.Add("parentHeight=" + parentHeight);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetPostThreadOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetPostThreadOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a list of quotes for a given post.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri">Reference (AT-URI) of post record</param>
        /// <param name="cid">If supplied, filters to quotes of specific version (by CID) of the post record.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetQuotesOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetQuotesOutput?>> GetQuotesAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri uri, string? cid = default, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetQuotes.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("uri=" + uri);

            if (cid != null)
            {
                queryStrings.Add("cid=" + cid);
            }

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetQuotesOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetQuotesOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a list of reposts for a given post.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="uri">Reference (AT-URI) of post record</param>
        /// <param name="cid">If supplied, filters to reposts of specific version (by CID) of the post record.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetRepostedByOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetRepostedByOutput?>> GetRepostedByAsync (this FishyFlip.IXrpcClient atp, FishyFlip.Models.ATUri uri, string? cid = default, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetRepostedBy.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("uri=" + uri);

            if (cid != null)
            {
                queryStrings.Add("cid=" + cid);
            }

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetRepostedByOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetRepostedByOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a list of suggested feeds (feed generators) for the requesting account.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetSuggestedFeedsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetSuggestedFeedsOutput?>> GetSuggestedFeedsAsync (this FishyFlip.IXrpcClient atp, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetSuggestedFeeds.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetSuggestedFeedsOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetSuggestedFeedsOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Get a view of the requesting account's home timeline. This is expected to be some form of reverse-chronological feed.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="algorithm">Variant 'algorithm' for timeline. Implementation-specific. NOTE: most feed flexibility has been moved to feed generator mechanism.</param>
        /// <param name="limit"></param>
        /// <param name="cursor"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.GetTimelineOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.GetTimelineOutput?>> GetTimelineAsync (this FishyFlip.IXrpcClient atp, string? algorithm = default, int? limit = 50, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = GetTimeline.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            if (algorithm != null)
            {
                queryStrings.Add("algorithm=" + algorithm);
            }

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.GetTimelineOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedGetTimelineOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Find posts matching search criteria, returning views of those posts. Note that this API endpoint may require authentication (eg, not public) for some service providers and implementations.
        /// <br/> Possible Errors: <br/>
        /// <see cref="FishyFlip.Lexicon.BadQueryStringError"/>  <br/>
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="q">Search query string; syntax, phrase, boolean, and faceting is unspecified, but Lucene query syntax is recommended.</param>
        /// <param name="sort">Specifies the ranking order of results.</param>
        /// <param name="since">Filter results for posts after the indicated datetime (inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYYY-MM-DD).</param>
        /// <param name="until">Filter results for posts before the indicated datetime (not inclusive). Expected to use 'sortAt' timestamp, which may not match 'createdAt'. Can be a datetime, or just an ISO date (YYY-MM-DD).</param>
        /// <param name="mentions">Filter to posts which mention the given account. Handles are resolved to DID before query-time. Only matches rich-text facet mentions.</param>
        /// <param name="author">Filter to posts by the given account. Handles are resolved to DID before query-time.</param>
        /// <param name="lang">Filter to posts in the given language. Expected to be based on post language field, though server may override language detection.</param>
        /// <param name="domain">Filter to posts with URLs (facet links or embeds) linking to the given domain (hostname). Server may apply hostname normalization.</param>
        /// <param name="url">Filter to posts with links (facet links or embeds) pointing to this URL. Server may apply URL normalization or fuzzy matching.</param>
        /// <param name="tag">Filter to posts with the given tag (hashtag), based on rich-text facet or tag field. Do not include the hash (#) prefix. Multiple tags can be specified, with 'AND' matching.</param>
        /// <param name="limit"></param>
        /// <param name="cursor">Optional pagination mechanism; may not necessarily allow scrolling through entire result set.</param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.SearchPostsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.SearchPostsOutput?>> SearchPostsAsync (this FishyFlip.IXrpcClient atp, string q, string? sort = default, string? since = default, string? until = default, FishyFlip.Models.ATIdentifier? mentions = default, FishyFlip.Models.ATIdentifier? author = default, string? lang = default, string? domain = default, string? url = default, List<string>? tag = default, int? limit = 25, string? cursor = default, CancellationToken cancellationToken = default)
        {
            var endpointUrl = SearchPosts.ToString();
            endpointUrl += "?";
            List<string> queryStrings = new();
            queryStrings.Add("q=" + q);

            if (sort != null)
            {
                queryStrings.Add("sort=" + sort);
            }

            if (since != null)
            {
                queryStrings.Add("since=" + since);
            }

            if (until != null)
            {
                queryStrings.Add("until=" + until);
            }

            if (mentions != null)
            {
                queryStrings.Add("mentions=" + mentions);
            }

            if (author != null)
            {
                queryStrings.Add("author=" + author);
            }

            if (lang != null)
            {
                queryStrings.Add("lang=" + lang);
            }

            if (domain != null)
            {
                queryStrings.Add("domain=" + domain);
            }

            if (url != null)
            {
                queryStrings.Add("url=" + url);
            }

            if (tag != null)
            {
                queryStrings.Add(string.Join("&", tag.Select(n => "tag=" + n)));
            }

            if (limit != null)
            {
                queryStrings.Add("limit=" + limit);
            }

            if (cursor != null)
            {
                queryStrings.Add("cursor=" + cursor);
            }

            var headers = new Dictionary<string, string>();
            headers.Add(Constants.AtProtoAcceptLabelers, string.Join(", ", atp.LabelParameters.Select(p => p.ToString())));
            endpointUrl += string.Join("&", queryStrings);
            return atp.QueryAsync<FishyFlip.Lexicon.App.Bsky.Feed.SearchPostsOutput>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedSearchPostsOutput!, cancellationToken, headers);
        }


        /// <summary>
        /// Send information about interactions with feed items back to the feed generator that served them.
        /// </summary>
        /// <param name="atp"></param>
        /// <param name="interactions"></param>
        /// <param name="cancellationToken"></param>
        /// <returns>Result of <see cref="FishyFlip.Lexicon.App.Bsky.Feed.SendInteractionsOutput?"/></returns>
        public static Task<Result<FishyFlip.Lexicon.App.Bsky.Feed.SendInteractionsOutput?>> SendInteractionsAsync (this FishyFlip.IXrpcClient atp, List<FishyFlip.Lexicon.App.Bsky.Feed.Interaction> interactions, CancellationToken cancellationToken = default)
        {
            var endpointUrl = SendInteractions.ToString();
            var headers = new Dictionary<string, string>();
            var inputItem = new SendInteractionsInput();
            inputItem.Interactions = interactions;
            return atp.ProcedureAsync<SendInteractionsInput, FishyFlip.Lexicon.App.Bsky.Feed.SendInteractionsOutput?>(endpointUrl, SourceGenerationContext.Default.AppBskyFeedSendInteractionsInput!, SourceGenerationContext.Default.AppBskyFeedSendInteractionsOutput!, inputItem, cancellationToken, headers);
        }

    }
}


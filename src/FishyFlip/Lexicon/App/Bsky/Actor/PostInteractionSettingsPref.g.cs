// <auto-generated />
// This file was generated by FFSourceGen.
// Do not modify this file.

#nullable enable annotations
#nullable disable warnings

namespace FishyFlip.Lexicon.App.Bsky.Actor
{
    /// <summary>
    /// Default post interaction settings for the account. These values should be applied as default values when creating new posts. These refs should mirror the threadgate and postgate records exactly.
    /// </summary>
    public partial class PostInteractionSettingsPref : ATObject, ICBOREncodable<PostInteractionSettingsPref>, IJsonEncodable<PostInteractionSettingsPref>, IParsable<PostInteractionSettingsPref>
    {

        /// <summary>
        /// Initializes a new instance of the <see cref="PostInteractionSettingsPref"/> class.
        /// </summary>
        /// <param name="threadgateAllowRules">Matches threadgate record. List of rules defining who can reply to this users posts. If value is an empty array, no one can reply. If value is undefined, anyone can reply.
        /// <br/> Union Types: <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.MentionRule"/> (app.bsky.feed.threadgate#mentionRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.FollowerRule"/> (app.bsky.feed.threadgate#followerRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.FollowingRule"/> (app.bsky.feed.threadgate#followingRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.ListRule"/> (app.bsky.feed.threadgate#listRule) <br/>
        /// </param>
        /// <param name="postgateEmbeddingRules">Matches postgate record. List of rules defining who can embed this users posts. If value is an empty array or is undefined, no particular rules apply and anyone can embed.
        /// <br/> Union Types: <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.DisableRule"/> (app.bsky.feed.postgate#disableRule) <br/>
        /// </param>
        public PostInteractionSettingsPref(List<ATObject>? threadgateAllowRules = default, List<FishyFlip.Lexicon.App.Bsky.Feed.DisableRule>? postgateEmbeddingRules = default)
        {
            this.ThreadgateAllowRules = threadgateAllowRules;
            this.PostgateEmbeddingRules = postgateEmbeddingRules;
            this.Type = "app.bsky.actor.defs#postInteractionSettingsPref";
        }


        /// <summary>
        /// Initializes a new instance of the <see cref="PostInteractionSettingsPref"/> class.
        /// </summary>
        public PostInteractionSettingsPref()
        {
            this.Type = "app.bsky.actor.defs#postInteractionSettingsPref";
        }


        /// <summary>
        /// Initializes a new instance of the <see cref="PostInteractionSettingsPref"/> class.
        /// </summary>
        public PostInteractionSettingsPref(CBORObject obj)
        {
            if (obj["threadgateAllowRules"] is not null) this.ThreadgateAllowRules = obj["threadgateAllowRules"].Values.Select(n =>n.ToATObject()).ToList();
            if (obj["postgateEmbeddingRules"] is not null) this.PostgateEmbeddingRules = obj["postgateEmbeddingRules"].Values.Select(n =>new FishyFlip.Lexicon.App.Bsky.Feed.DisableRule(n)).ToList();
            if (obj["$type"] is not null) this.Type = obj["$type"].AsString();
        }

        /// <summary>
        /// Gets or sets the threadgateAllowRules.
        /// <br/> Matches threadgate record. List of rules defining who can reply to this users posts. If value is an empty array, no one can reply. If value is undefined, anyone can reply.
        /// <br/> Union Types: <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.MentionRule"/> (app.bsky.feed.threadgate#mentionRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.FollowerRule"/> (app.bsky.feed.threadgate#followerRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.FollowingRule"/> (app.bsky.feed.threadgate#followingRule) <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.ListRule"/> (app.bsky.feed.threadgate#listRule) <br/>
        /// </summary>
        [JsonPropertyName("threadgateAllowRules")]
        [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
        public List<ATObject>? ThreadgateAllowRules { get; set; }

        /// <summary>
        /// Gets or sets the postgateEmbeddingRules.
        /// <br/> Matches postgate record. List of rules defining who can embed this users posts. If value is an empty array or is undefined, no particular rules apply and anyone can embed.
        /// <br/> Union Types: <br/>
        /// <see cref="FishyFlip.Lexicon.App.Bsky.Feed.DisableRule"/> (app.bsky.feed.postgate#disableRule) <br/>
        /// </summary>
        [JsonPropertyName("postgateEmbeddingRules")]
        [JsonIgnore(Condition = JsonIgnoreCondition.WhenWritingNull)]
        public List<FishyFlip.Lexicon.App.Bsky.Feed.DisableRule>? PostgateEmbeddingRules { get; set; }

        public const string RecordType = "app.bsky.actor.defs#postInteractionSettingsPref";

        public override string ToJson()
        {
            return JsonSerializer.Serialize(this, (JsonTypeInfo<FishyFlip.Lexicon.App.Bsky.Actor.PostInteractionSettingsPref>)SourceGenerationContext.Default.AppBskyActorPostInteractionSettingsPref);
        }

        public override byte[] ToUtf8Json()
        {
            return JsonSerializer.SerializeToUtf8Bytes(this, (JsonTypeInfo<FishyFlip.Lexicon.App.Bsky.Actor.PostInteractionSettingsPref>)SourceGenerationContext.Default.AppBskyActorPostInteractionSettingsPref);
        }

        public static new PostInteractionSettingsPref FromJson(string json)
        {
            return JsonSerializer.Deserialize<FishyFlip.Lexicon.App.Bsky.Actor.PostInteractionSettingsPref>(json, (JsonTypeInfo<FishyFlip.Lexicon.App.Bsky.Actor.PostInteractionSettingsPref>)SourceGenerationContext.Default.AppBskyActorPostInteractionSettingsPref)!;
        }

        /// <inheritdoc/>
        public override CBORObject ToCBORObject()
        {
            using var jsonStream = new MemoryStream(Encoding.UTF8.GetBytes(this.ToJson()));
            return CBORObject.ReadJSON(jsonStream);
        }

        /// <inheritdoc/>
        public static new PostInteractionSettingsPref FromCBORObject(CBORObject obj)
        {
            return new PostInteractionSettingsPref(obj);
        }

        /// <inheritdoc/>
        public static PostInteractionSettingsPref Parse(string s, IFormatProvider? provider)
        {
            return JsonSerializer.Deserialize<PostInteractionSettingsPref>(s, (JsonTypeInfo<PostInteractionSettingsPref>)SourceGenerationContext.Default.AppBskyActorPostInteractionSettingsPref)!;
        }

        /// <inheritdoc/>
        public static bool TryParse(string? s, IFormatProvider? provider, out PostInteractionSettingsPref result)
        {
            result = JsonSerializer.Deserialize<PostInteractionSettingsPref>(s, (JsonTypeInfo<PostInteractionSettingsPref>)SourceGenerationContext.Default.AppBskyActorPostInteractionSettingsPref);
            return result != null;
        }
    }
}

